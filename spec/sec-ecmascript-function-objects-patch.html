<emu-clause id="sec-ecmascript-function-objects">
  <h1>ECMAScript Function Objects</h1>

  <emu-clause id="sec-ecmascript-function-objects-call-thisargument-argumentslist" type="internal method">
    <h1>
      [[Call]] (
        _thisArgument_: an ECMAScript language value,
        _argumentsList_: a List of ECMAScript language values,
      )
    </h1>
    <dl class="header">
      <dt>for</dt>
      <dd>an ECMAScript function object _F_</dd>
    </dl>
    <emu-alg>
      1. Let _callerContext_ be the running execution context.
      1. Let _calleeContext_ be PrepareForOrdinaryCall(_F_, *undefined*).
      1. Assert: _calleeContext_ is now the running execution context.
      1. If _F_.[[IsClassConstructor]] is *true*, then
        1. Let _error_ be a newly created *TypeError* object.
        1. NOTE: _error_ is created in _calleeContext_ with _F_'s associated Realm Record.
        1. Remove _calleeContext_ from the execution context stack and restore _callerContext_ as the running execution context.
        1. Return ThrowCompletion(_error_).
      1. Perform OrdinaryCallBindThis(_F_, _calleeContext_, _thisArgument_).
      1. Let _result_ be OrdinaryCallEvaluateBody(_F_, _argumentsList_).
      1. <ins>Let _env_ be the LexicalEnvironment of _calleeContext_.</ins>
      1. <ins>Set _result_ to the result of performing DisposeResources(_env_, _result_).</ins>
      1. [id="step-call-pop-context-stack"] Remove _calleeContext_ from the execution context stack and restore _callerContext_ as the running execution context.
      1. If _result_.[[Type]] is ~return~, return NormalCompletion(_result_.[[Value]]).
      1. ReturnIfAbrupt(_result_).
      1. Return NormalCompletion(*undefined*).
    </emu-alg>
    <emu-note>
      <p>When _calleeContext_ is removed from the execution context stack in step <emu-xref href="#step-call-pop-context-stack"></emu-xref> it must not be destroyed if it is suspended and retained for later resumption by an accessible Generator.</p>
    </emu-note>

</emu-clause>
